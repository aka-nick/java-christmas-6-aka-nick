# 개발 문서

## 구현 목록

### 구현 기능 목록

- 환영멘트를 출력하는 기능
- 방문일자 질문
  - 방문일자 질문멘트 출력하는 기능
  - 방문일자 입력받는 기능
- 메뉴 주문
  - 주문 멘트 출력하는 기능
  - 주문내용 입력받는 기능
  - 입력받은 전체 주문내용을 각 주문으로 분리하는 기능
- 주문내역서 출력
  - 하위의 기능들로 조회된 정보를 출력하는 기능
    - 각 주문(메뉴명, 수량이 포함된) 건을 조회하는 기능
    - 위의 주문 조회 내용을 토대로 총 주문 금액을 계산하는 기능
    - 이벤트 적용 기능
      - 위의 총 주문 금액을 토대로 증정 이벤트 판단하는 기능(증정 상품으로 인한 혜택금액 발생됨)
      - 위의 총 주문 금액을 토대로 각 이벤트의 조건을 판단하여 적용하는 기능(할인으로 인한 혜택금액 발생됨)
    - 위의 이벤트 혜택금액을 토대로 총 혜택 금액을 계산하는 기능
    - 총 주문 금액과 이벤트 혜택금액을 토대로 예상 결제 금액을 계산하는 기능
    - 이벤트 혜택금액을 토대로 증정할 이벤트뱃지 판별하는 기능

### 예외 처리 목록

모든 예외 메시지는 "[ERROR] "로 시작한다 
- [ ] 날짜가 숫자가 아닌 경우 (유효하지 않은 날짜입니다. 다시 입력해 주세요.)
- [ ] 날짜가 범위를 벗어나는 경우(1 ~ 31) (유효하지 않은 날짜입니다. 다시 입력해 주세요.)
- [ ] 없는 메뉴를 선택하는 경우 (유효하지 않은 주문입니다. 다시 입력해 주세요.)
- [ ] 메뉴의 개수가 0개 이하인 경우 (유효하지 않은 주문입니다. 다시 입력해 주세요.)
- [ ] 메뉴 형식이 틀린 경우 (유효하지 않은 주문입니다. 다시 입력해 주세요.)
- [ ] 중복 메뉴를 입력한 경우 (유효하지 않은 주문입니다. 다시 입력해 주세요.)
- [ ] 음료만 주문한 경우 (유효하지 않은 주문입니다. 다시 입력해 주세요.)

## 참고할 점

### 용어/개념 설명

- 방문일자(==예약일자) : 12월 1일 ~ 31일 중 하루의 일자. 사용자에게는 일자만 입력받는다. 사실상 방문의 예약을 받는 것이기 때문에 '예약일자'라고도 한다.
- 메뉴 : 카테고리와 음식을 계층적으로 표현한 정적 정보.
- 카테고리 : 메뉴의 하위 목록으로 음식의 그룹을 표현.
- 음식 : 주문될 수 있는 최소의 단위. 이름과 가격을 가지고 있으며, 이름으로 식별됨(같은 이름의 음식은 같은 음식임).
- 주문 : 메뉴 한 건을 실제 음식 n개(수량)로 변환하는 일. 그 과정에서 주문금액이 발생됨.
- 이벤트(==프로모션) : 주문금액의 총합, 각 이벤트의 조건을 따라 할인/증정 혜택이 제공되는 일. 그 과정에서 혜택금액이 발생되고, 각 건을 혜택 내역이라 부름. 'Event'라는 이름으로 만들어진 기존 클래스들이 많아서 프로젝트 상에서는 Promotion 또는 PromotionPlanner(Planner)라는 표현을 사용한다.
- 뱃지 : 혜택금액에 따라 주어지는 리워드 표지.

### 기타 참고 사항

- 고려할 금액의 종류 : 메뉴 금액('증정 메뉴의 가격'도 포함), 총 주문 금액, 할인 금액, 총 혜택 금액, 할인 후 예상 결제 금액
- 이벤트의 종류 : 할인, 증정
  - 할인 이벤트의 종류 : 요일 할인(평일 할인, 주말 할인), 디데이 할인, 특별 할인
  - 증정 이벤트의 종류 : 샴페인 증정
- 뱃지(리워드) 종류 : 5000원 할인(별), 10000원 할인(트리), 20000원 할인(산타)
- 제한조건의 종류 : 총 금액 1만원 미만 할인/증정 미적용, 음료만 주문 불가(예외로 추가), 1회 주문 시 최대 메뉴 개수 20개

- '메뉴'의 구조
  - 메뉴 -1--n< 카테고리 -1--n- 음식(이름/가격)
  - 메뉴는 여러개의 카테고리를 가진다. 각각의 카테고리는 각각의 음식을 가진다. 각각의 음식은 이름과 가격으로 표현된다.
  - 헷갈리는 개념 : 메뉴와 주문 메뉴는 다르다. 메뉴는 '주문 전 메뉴판에 적혀있는 메뉴'고, 주문서에 적힌 주문 메뉴는 '주문한 음식'을 말한다.
- '이벤트' : 1만원 이상일 때 적용되는 할인/증정 혜택.
  - 할인 이벤트
    - 요일 할인 : 평일 할인(일 ~ 목, 디저트 2023원 할인), 주말할인(금/토, 메인 2023원 할인). 적용 기간은 12월 1일부터 31일.
    - 디데이 할인 : 할인액 1000원으로 시작해서 매일 100원씩 증가(총 주문 금액 n원 할인). 적용 기간은 12월 1일부터 25일(주의: 이것만 기간이 다름).
    - 특별 할인 : 달력에 '별'이 있는 날(일/크리스마스 당일, 총 주문 금액 1000원 할인). 적용 기간은 12월 1일부터 31일.
  - 증정 이벤트
    - 음료(샴페인) 증정 : 총 주문 금액 12만원 이상일 때(매일, 25000원 상당의 샴페인 증정(할인 금액으로 산출됨)). 적용 기간은 12월 1일부터 31일까지.

### 체크리스트

#### 제출 관련

- [ ] 비공개 저장소로 만들었는가
- [ ] 저장소명 뒤에 깃허브 아이디를 적었는가
- [ ] 우아한 테크코스 계정을 collaborator로 초대했는가
- [ ] main 브랜치에서 작업하고 있는가

#### 프로젝트 관련

- [ ] 요구사항에 명시된 출력값 형식을 지켰는가
- [ ] Java 17 버전인가? (`java -version`)
- [ ] 테스트에 모두 성공했는가? 성공함을 확인했는가? (`./gradlew clean test`)

#### 코드 관련
- 인덴트는 2까지만 허용한다.
- 3항 연산자, if-else, switch 사용할 수 없다.
- 메서드 최대 길이는 15라인이다.
- 사용자가 잘못된 입력을 할 경우, "[ERROR]"로 시작하는 에러메시지를 출력한 후 그 부분부터 입력을 다시 받는다(Exception으로 잡지 말고 구체적인 예외를 명확하게 잡는다).

## 고민 & 생각 메모

### 2023-11-10 금

- 
